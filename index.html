<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UDNA: Universal DID-Native Addressing - W3C Community Group</title>
    <meta name="description" content="W3C Community Group specification for Universal DID-Native Addressing (UDNA) - Technical Specification v2.0">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* Primary Colors */
            --primary-blue: #0066cc;
            --primary-dark: #004d99;
            --primary-light: #3399ff;
            
            /* Secondary Colors */
            --accent-purple: #7d3cff;
            --accent-teal: #00cc99;
            --accent-orange: #ff9900;
            --accent-red: #ff3333;
            --accent-green: #00cc66;
            
            /* Neutral Colors */
            --white: #ffffff;
            --gray-50: #f8fafc;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --gray-400: #94a3b8;
            --gray-500: #64748b;
            --gray-600: #475569;
            --gray-700: #334155;
            --gray-800: #1e293b;
            --gray-900: #0f172a;
            --black: #000000;
            
            /* Semantic Colors */
            --bg-primary: var(--white);
            --bg-secondary: var(--gray-50);
            --bg-tertiary: var(--gray-100);
            --bg-card: var(--white);
            --border-color: var(--gray-200);
            --border-light: var(--gray-100);
            
            --text-primary: var(--gray-900);
            --text-secondary: var(--gray-600);
            --text-tertiary: var(--gray-500);
            --text-light: var(--gray-400);
            
            /* Spacing */
            --space-xs: 0.25rem;
            --space-sm: 0.5rem;
            --space-md: 1rem;
            --space-lg: 1.5rem;
            --space-xl: 2rem;
            --space-2xl: 3rem;
            --space-3xl: 4rem;
            --space-4xl: 6rem;
            --space-5xl: 8rem;
            
            /* Typography */
            --font-sans: 'Inter', -apple-system, system-ui, sans-serif;
            --font-mono: 'JetBrains Mono', 'SF Mono', Monaco, monospace;
            
            /* Layout */
            --max-width: 100%;
            --header-height: 64px;
            --sidebar-width: 280px;
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --border-radius-xl: 16px;
            
            /* Shadows */
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            
            /* Transitions */
            --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-base: 250ms cubic-bezier(0.4, 0, 0.2, 1);
            --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Dark Theme */
        [data-theme="dark"] {
            --bg-primary: var(--gray-900);
            --bg-secondary: var(--gray-800);
            --bg-tertiary: var(--gray-700);
            --bg-card: var(--gray-800);
            --border-color: var(--gray-700);
            --border-light: var(--gray-800);
            
            --text-primary: var(--gray-100);
            --text-secondary: var(--gray-300);
            --text-tertiary: var(--gray-400);
            --text-light: var(--gray-500);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
            scroll-padding-top: 100px;
        }
        
        body {
            font-family: var(--font-sans);
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-primary);
            min-height: 100vh;
            overflow-x: hidden;
            max-width: 100vw;
        }
        
        /* Full Width Container */
        .container {
            max-width: 100%;
            margin: 0;
            padding: 0;
        }
        
        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: var(--header-height);
            background: var(--bg-primary);
            border-bottom: 1px solid var(--border-color);
            z-index: 1000;
            backdrop-filter: blur(10px);
            background: rgba(var(--bg-primary), 0.95);
            padding: 0 var(--space-xl);
        }
        
        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            text-decoration: none;
            color: var(--text-primary);
        }
        
        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 800;
            font-size: 1.25rem;
        }
        
        .logo-text {
            display: flex;
            flex-direction: column;
        }
        
        .logo-title {
            font-weight: 700;
            font-size: 1.25rem;
            line-height: 1.2;
        }
        
        .logo-subtitle {
            font-size: 0.875rem;
            color: var(--text-tertiary);
            font-weight: 500;
        }
        
        .header-actions {
            display: flex;
            align-items: center;
            gap: var(--space-md);
        }
        
        /* Main Content Grid */
        .main-grid {
            display: grid;
            grid-template-columns: var(--sidebar-width) 1fr;
            gap: var(--space-2xl);
            padding-top: calc(var(--header-height) + var(--space-2xl));
            padding-bottom: var(--space-4xl);
            min-height: 100vh;
            max-width: 1400px;
            margin: 0 auto;
            padding-left: var(--space-xl);
            padding-right: var(--space-xl);
        }
        
        /* Sidebar Navigation */
        .sidebar {
            position: sticky;
            top: calc(var(--header-height) + var(--space-xl));
            height: calc(100vh - var(--header-height) - var(--space-2xl));
            overflow-y: auto;
            padding-right: var(--space-xl);
        }
        
        .sidebar::-webkit-scrollbar {
            width: 4px;
        }
        
        .sidebar::-webkit-scrollbar-track {
            background: transparent;
        }
        
        .sidebar::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 2px;
        }
        
        .nav-section {
            margin-bottom: var(--space-2xl);
        }
        
        .nav-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: var(--text-tertiary);
            margin-bottom: var(--space-md);
            padding-bottom: var(--space-sm);
            border-bottom: 1px solid var(--border-light);
        }
        
        .nav-list {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 2px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-md);
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--border-radius);
            transition: all var(--transition-fast);
            font-size: 0.9375rem;
            font-weight: 500;
            position: relative;
        }
        
        .nav-link:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            transform: translateX(4px);
        }
        
        .nav-link.active {
            background: linear-gradient(90deg, rgba(var(--primary-blue), 0.1), transparent);
            color: var(--primary-blue);
            font-weight: 600;
        }
        
        .nav-link.active::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
            background: var(--primary-blue);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }
        
        .nav-icon {
            width: 20px;
            text-align: center;
            opacity: 0.8;
            font-size: 0.875rem;
        }
        
        .nav-badge {
            margin-left: auto;
            padding: 2px 8px;
            background: var(--bg-tertiary);
            border-radius: 12px;
            font-size: 0.6875rem;
            font-weight: 600;
            color: var(--text-tertiary);
            border: 1px solid var(--border-color);
        }
        
        .badge-draft {
            background: rgba(var(--accent-orange), 0.1);
            color: var(--accent-orange);
            border-color: rgba(var(--accent-orange), 0.2);
        }
        
        .badge-stable {
            background: rgba(var(--accent-green), 0.1);
            color: var(--accent-green);
            border-color: rgba(var(--accent-green), 0.2);
        }
        
        .badge-experimental {
            background: rgba(var(--accent-purple), 0.1);
            color: var(--accent-purple);
            border-color: rgba(var(--accent-purple), 0.2);
        }
        
        /* Main Content */
        .main-content {
            min-width: 0;
            width: 100%;
        }
        
        /* Document Header */
        .doc-header {
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
            border-radius: var(--border-radius-xl);
            padding: var(--space-2xl);
            margin-bottom: var(--space-3xl);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
            width: 100%;
        }
        
        .doc-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-blue), var(--accent-purple));
        }
        
        .doc-title {
            font-size: 3rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: var(--space-lg);
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .doc-meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-xl);
            margin-bottom: var(--space-xl);
            padding-bottom: var(--space-xl);
            border-bottom: 1px solid var(--border-color);
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: var(--text-secondary);
        }
        
        .meta-icon {
            color: var(--primary-blue);
            font-size: 1rem;
        }
        
        .doc-status {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            background: var(--accent-orange);
            color: white;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.875rem;
        }
        
        /* Abstract Section */
        .abstract {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--space-xl);
            margin-bottom: var(--space-3xl);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--primary-blue);
            box-shadow: var(--shadow-md);
        }
        
        .abstract-title {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: var(--space-md);
            color: var(--primary-blue);
        }
        
        /* Content Sections */
        .content-section {
            margin-bottom: var(--space-4xl);
            scroll-margin-top: 120px;
            width: 100%;
        }
        
        .section-header {
            margin-bottom: var(--space-2xl);
            padding-bottom: var(--space-lg);
            border-bottom: 2px solid var(--border-color);
            position: relative;
            width: 100%;
        }
        
        .section-header::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 80px;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-blue), var(--accent-teal));
        }
        
        h2 {
            font-size: 2.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--space-sm);
        }
        
        h3 {
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: var(--space-2xl) 0 var(--space-xl);
        }
        
        h4 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-secondary);
            margin: var(--space-xl) 0 var(--space-lg);
        }
        
        p {
            margin-bottom: var(--space-lg);
            color: var(--text-secondary);
            line-height: 1.7;
            font-size: 1.0625rem;
        }
        
        .lead {
            font-size: 1.25rem;
            color: var(--text-primary);
            font-weight: 500;
            line-height: 1.6;
            margin-bottom: var(--space-xl);
        }
        
        /* Lists */
        ul, ol {
            margin: var(--space-lg) 0 var(--space-xl) var(--space-xl);
            color: var(--text-secondary);
        }
        
        li {
            margin-bottom: var(--space-md);
            line-height: 1.6;
        }
        
        /* Cards */
        .card {
            background: var(--bg-card);
            border-radius: var(--border-radius-lg);
            padding: var(--space-xl);
            margin: var(--space-xl) 0;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-md);
            transition: transform var(--transition-base), box-shadow var(--transition-base);
            width: 100%;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: var(--space-md);
            margin-bottom: var(--space-lg);
        }
        
        .card-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-teal));
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
        }
        
        .card-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .card-subtitle {
            font-size: 0.875rem;
            color: var(--text-tertiary);
            margin-top: 2px;
        }
        
        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--space-lg);
            margin: var(--space-2xl) 0;
            width: 100%;
        }
        
        .feature-card {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: var(--space-lg);
            border: 1px solid var(--border-color);
            transition: all var(--transition-base);
        }
        
        .feature-card:hover {
            border-color: var(--primary-blue);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .feature-icon {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.25rem;
            margin-bottom: var(--space-md);
        }
        
        .feature-title {
            font-size: 1.125rem;
            font-weight: 600;
            margin-bottom: var(--space-sm);
            color: var(--text-primary);
        }
        
        /* Tables */
        .table-container {
            overflow-x: auto;
            margin: var(--space-2xl) 0;
            border-radius: var(--border-radius);
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-sm);
            width: 100%;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }
        
        th {
            background: var(--bg-tertiary);
            padding: var(--space-lg);
            text-align: left;
            font-weight: 600;
            color: var(--text-primary);
            border-bottom: 2px solid var(--border-color);
        }
        
        td {
            padding: var(--space-lg);
            border-bottom: 1px solid var(--border-color);
            color: var(--text-secondary);
        }
        
        tr:hover {
            background: var(--bg-tertiary);
        }
        
        .good {
            color: var(--accent-green);
            font-weight: 600;
        }
        
        .partial {
            color: var(--accent-orange);
            font-weight: 600;
        }
        
        .bad {
            color: var(--accent-red);
            font-weight: 600;
        }
        
        /* Code Blocks */
        .code-block {
            position: relative;
            background: var(--gray-900);
            border-radius: var(--border-radius);
            margin: var(--space-xl) 0;
            overflow: hidden;
            border: 1px solid var(--border-color);
            width: 100%;
        }
        
        .code-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: var(--space-md) var(--space-lg);
            background: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .code-title {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            color: var(--gray-300);
            font-family: var(--font-mono);
            font-size: 0.875rem;
            font-weight: 600;
        }
        
        .code-copy {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--gray-300);
            padding: var(--space-sm) var(--space-md);
            border-radius: var(--border-radius);
            cursor: pointer;
            font-family: var(--font-sans);
            font-size: 0.875rem;
            transition: all var(--transition-fast);
        }
        
        .code-copy:hover {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }
        
        pre {
            padding: var(--space-xl);
            margin: 0;
            overflow-x: auto;
        }
        
        code {
            font-family: var(--font-mono);
            font-size: 0.9375rem;
            line-height: 1.5;
            color: var(--gray-100);
        }
        
        .language-rust { color: #dea584; }
        .language-json { color: #a6e22e; }
        .language-javascript { color: #f8f8f2; }
        .language-plaintext { color: #f8f8f2; }
        
        /* Protocol Diagram */
        .protocol-diagram {
            background: var(--bg-secondary);
            border-radius: var(--border-radius-lg);
            padding: var(--space-xl);
            margin: var(--space-2xl) 0;
            border: 1px solid var(--border-color);
            width: 100%;
        }
        
        /* ASCII Art Table */
        .ascii-table {
            background: var(--gray-900);
            border-radius: var(--border-radius);
            padding: var(--space-xl);
            margin: var(--space-xl) 0;
            overflow-x: auto;
            font-family: var(--font-mono);
            font-size: 0.875rem;
            line-height: 1.4;
            color: var(--gray-100);
            border: 1px solid var(--border-color);
        }
        
        .ascii-table table {
            min-width: auto;
            border: none;
            background: transparent;
        }
        
        .ascii-table td {
            padding: 0;
            border: none;
            color: var(--gray-100);
            font-family: var(--font-mono);
            font-size: 0.875rem;
            line-height: 1.4;
        }
        
        .ascii-table tr:hover {
            background: transparent;
        }
        
        .bit-grid {
            display: grid;
            grid-template-columns: repeat(32, 1fr);
            gap: 1px;
            margin: var(--space-lg) 0;
            background: var(--border-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .bit-cell {
            aspect-ratio: 1;
            background: var(--bg-primary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-family: var(--font-mono);
            font-weight: 600;
            color: var(--text-secondary);
        }
        
        .bit-label {
            background: var(--primary-blue);
            color: white;
        }
        
        .bit-data {
            background: var(--accent-teal);
            color: white;
        }
        
        .bit-control {
            background: var(--accent-purple);
            color: white;
        }
        
        /* Architecture Visualization */
        .architecture-visual {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: var(--space-lg);
            margin: var(--space-2xl) 0;
            width: 100%;
        }
        
        .layer-card {
            background: var(--bg-card);
            border-radius: var(--border-radius);
            padding: var(--space-xl);
            border: 1px solid var(--border-color);
            text-align: center;
            transition: all var(--transition-base);
        }
        
        .layer-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .layer-number {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-teal));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.25rem;
            margin: 0 auto var(--space-md);
        }
        
        /* References */
        .references {
            background: var(--bg-tertiary);
            border-radius: var(--border-radius-lg);
            padding: var(--space-2xl);
            margin: var(--space-4xl) 0;
            width: 100%;
        }
        
        .reference-list {
            list-style: none;
            margin: 0;
        }
        
        .reference-item {
            margin-bottom: var(--space-lg);
            padding-left: var(--space-xl);
            position: relative;
        }
        
        .reference-item::before {
            content: '[' attr(data-number) ']';
            position: absolute;
            left: 0;
            color: var(--primary-blue);
            font-weight: 600;
        }
        
        /* Footer */
        .footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            padding: var(--space-3xl) 0;
            margin-top: var(--space-4xl);
            width: 100%;
        }
        
        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-xl);
            padding: 0 var(--space-xl);
        }
        
        .footer-links {
            display: flex;
            gap: var(--space-xl);
            align-items: center;
        }
        
        .footer-link {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.875rem;
            transition: color var(--transition-fast);
            display: flex;
            align-items: center;
            gap: var(--space-sm);
        }
        
        .footer-link:hover {
            color: var(--primary-blue);
        }
        
        .copyright {
            color: var(--text-tertiary);
            font-size: 0.875rem;
            text-align: center;
            width: 100%;
            margin-top: var(--space-xl);
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: var(--space-sm);
            padding: var(--space-sm) var(--space-lg);
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all var(--transition-fast);
        }
        
        .btn:hover {
            background: var(--border-color);
            transform: translateY(-1px);
        }
        
        .btn-primary {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
            color: white;
        }
        
        .btn-primary:hover {
            background: var(--primary-dark);
            border-color: var(--primary-dark);
        }
        
        /* Explanation Boxes */
        .explanation-box {
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
            border-left: 4px solid var(--accent-teal);
            padding: var(--space-lg);
            margin: var(--space-xl) 0;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
        }
        
        .explanation-title {
            display: flex;
            align-items: center;
            gap: var(--space-sm);
            font-weight: 600;
            color: var(--accent-teal);
            margin-bottom: var(--space-sm);
        }
        
        /* Mobile Menu */
        .mobile-menu-toggle {
            display: none;
            position: fixed;
            bottom: var(--space-xl);
            right: var(--space-xl);
            width: 56px;
            height: 56px;
            border-radius: 50%;
            background: var(--primary-blue);
            color: white;
            border: none;
            box-shadow: var(--shadow-xl);
            z-index: 1001;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            cursor: pointer;
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .main-grid {
                padding-left: var(--space-lg);
                padding-right: var(--space-lg);
            }
        }
        
        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
                gap: var(--space-xl);
                padding-left: var(--space-md);
                padding-right: var(--space-md);
            }
            
            .sidebar {
                position: fixed;
                left: -100%;
                top: var(--header-height);
                width: 280px;
                height: calc(100vh - var(--header-height));
                background: var(--bg-primary);
                border-right: 1px solid var(--border-color);
                padding: var(--space-xl);
                transition: transform var(--transition-base);
                z-index: 999;
            }
            
            .sidebar.active {
                transform: translateX(100%);
            }
            
            .mobile-menu-toggle {
                display: flex;
            }
            
            .doc-title {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 0 var(--space-lg);
            }
            
            .doc-title {
                font-size: 2rem;
            }
            
            h2 {
                font-size: 1.75rem;
            }
            
            h3 {
                font-size: 1.5rem;
            }
            
            .feature-grid {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                flex-direction: column;
                text-align: center;
                gap: var(--space-lg);
                padding: 0 var(--space-lg);
            }
            
            .footer-links {
                flex-direction: column;
                gap: var(--space-md);
            }
            
            .doc-meta {
                gap: var(--space-md);
                flex-direction: column;
                align-items: flex-start;
            }
            
            .main-grid {
                padding-left: var(--space-sm);
                padding-right: var(--space-sm);
            }
        }
        
        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .animate-in {
            animation: fadeIn 0.5s ease-out;
        }
        
        /* Utility Classes */
        .text-gradient {
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .highlight {
            background: linear-gradient(120deg, rgba(var(--primary-blue), 0.1) 0%, rgba(var(--accent-teal), 0.1) 100%);
            border-left: 4px solid var(--primary-blue);
            padding: var(--space-lg);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            margin: var(--space-xl) 0;
        }
        
        .warning {
            background: linear-gradient(120deg, rgba(var(--accent-orange), 0.1) 0%, rgba(var(--accent-red), 0.1) 100%);
            border-left: 4px solid var(--accent-orange);
            padding: var(--space-lg);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            margin: var(--space-xl) 0;
        }
        
        .success {
            background: linear-gradient(120deg, rgba(var(--accent-green), 0.1) 0%, rgba(var(--accent-teal), 0.1) 100%);
            border-left: 4px solid var(--accent-green);
            padding: var(--space-lg);
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            margin: var(--space-xl) 0;
        }
        
        /* Full-width sections */
        .full-width-section {
            width: 100vw;
            position: relative;
            left: 50%;
            right: 50%;
            margin-left: -50vw;
            margin-right: -50vw;
            padding: var(--space-3xl) var(--space-xl);
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            margin-bottom: var(--space-4xl);
        }
        
        .full-width-section .section-header {
            max-width: 1400px;
            margin: 0 auto var(--space-2xl);
            padding: 0 var(--space-xl);
        }
        
        .full-width-section .section-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 var(--space-xl);
        }
        
        /* Protocol Stack Diagram */
        .protocol-stack {
            display: flex;
            flex-direction: column;
            gap: 1px;
            margin: var(--space-2xl) 0;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .stack-layer {
            background: var(--bg-card);
            padding: var(--space-lg);
            display: flex;
            align-items: center;
            gap: var(--space-lg);
            transition: all var(--transition-fast);
        }
        
        .stack-layer:hover {
            background: var(--bg-tertiary);
            transform: translateX(4px);
        }
        
        .stack-number {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 0.875rem;
            flex-shrink: 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <a href="#" class="logo">
                <div class="logo-icon">UDNA</div>
                <div class="logo-text">
                    <div class="logo-title">Universal DID-Native Addressing</div>
                    <div class="logo-subtitle">W3C Community Group Specification</div>
                </div>
            </a>
            
            <div class="header-actions">
                <button class="btn" onclick="toggleTheme()">
                    <i class="fas fa-moon"></i>
                </button>
                <a href="https://github.com/w3c-cg/udna" class="btn btn-primary" target="_blank">
                    <i class="fab fa-github"></i>
                    GitHub
                </a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <div class="main-grid">
            <!-- Sidebar Navigation -->
            <nav class="sidebar" id="sidebar">
                <div class="nav-section">
                    <div class="nav-title">Specification</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#abstract" class="nav-link active">
                                <i class="nav-icon fas fa-file-alt"></i>
                                Abstract
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#status" class="nav-link">
                                <i class="nav-icon fas fa-info-circle"></i>
                                Status
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#introduction" class="nav-link">
                                <i class="nav-icon fas fa-rocket"></i>
                                1. Introduction
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Core Protocol</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#terminology" class="nav-link">
                                <i class="nav-icon fas fa-book"></i>
                                2. Terminology
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#architecture" class="nav-link">
                                <i class="nav-icon fas fa-sitemap"></i>
                                3. Architecture
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#protocol" class="nav-link">
                                <i class="nav-icon fas fa-code"></i>
                                4. Core Protocol
                                <span class="nav-badge badge-draft">Draft</span>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#resolution" class="nav-link">
                                <i class="nav-icon fas fa-search"></i>
                                5. Resolution
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#cryptography" class="nav-link">
                                <i class="nav-icon fas fa-lock"></i>
                                6. Cryptography
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Implementation</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#network-layer" class="nav-link">
                                <i class="nav-icon fas fa-network-wired"></i>
                                7. SCP Overlay
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#security" class="nav-link">
                                <i class="nav-icon fas fa-shield-alt"></i>
                                8. Security & Privacy
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#implementation" class="nav-link">
                                <i class="nav-icon fas fa-tools"></i>
                                9. Implementation
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#interoperability" class="nav-link">
                                <i class="nav-icon fas fa-handshake"></i>
                                10. Interoperability
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Advanced</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="#formal-analysis" class="nav-link">
                                <i class="nav-icon fas fa-chart-line"></i>
                                11. Formal Analysis
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#future" class="nav-link">
                                <i class="nav-icon fas fa-crystal-ball"></i>
                                12. Future Considerations
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#references" class="nav-link">
                                <i class="nav-icon fas fa-bookmark"></i>
                                13. References
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="#appendices" class="nav-link">
                                <i class="nav-icon fas fa-file-code"></i>
                                14. Appendices
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="nav-section">
                    <div class="nav-title">Community</div>
                    <ul class="nav-list">
                        <li class="nav-item">
                            <a href="https://www.w3.org/groups/cg/did-native-addr/" class="nav-link" target="_blank">
                                <i class="nav-icon fas fa-users"></i>
                                W3C Group
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="mailto:public-did-native-addr@w3.org" class="nav-link">
                                <i class="nav-icon fas fa-envelope"></i>
                                Mailing List
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="https://github.com/w3c-cg/udna/issues" class="nav-link" target="_blank">
                                <i class="nav-icon fas fa-bug"></i>
                                Report Issues
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <!-- Main Content Area -->
            <main class="main-content">
                <!-- Document Header -->
                <section class="doc-header animate-in">
                    <h1 class="doc-title">Universal DID-Native Addressing (UDNA)</h1>
                    
                    <div class="doc-meta">
                        <div class="meta-item">
                            <i class="meta-icon fas fa-code-branch"></i>
                            <span>Document Version: 2.0</span>
                        </div>
                        <div class="meta-item">
                            <i class="meta-icon fas fa-project-diagram"></i>
                            <span>Standards Track: Informational</span>
                        </div>
                        <div class="meta-item">
                            <i class="meta-icon fas fa-tags"></i>
                            <span>Category: Network Protocol</span>
                        </div>
                        <div class="meta-item">
                            <i class="meta-icon fas fa-user"></i>
                            <span>Author: Amir Hameed Mir</span>
                        </div>
                        <div class="meta-item">
                            <i class="meta-icon fas fa-calendar"></i>
                            <span>Date: October 28, 2025</span>
                        </div>
                    </div>
                    
                    <div class="doc-status">
                        <i class="fas fa-file-contract"></i>
                        W3C Community Group Draft
                    </div>
                    
                    <p class="lead">
                        Universal DID-Native Addressing (UDNA) integrates Decentralized Identifiers (DIDs) as fundamental network addresses, 
                        enabling identity-based routing and communication. This specification defines a network architecture where 
                        cryptographic identity and network addressing are unified, providing built-in authentication, privacy, 
                        and trust mechanisms at the network layer.
                    </p>
                    
                    <div class="explanation-box">
                        <div class="explanation-title">
                            <i class="fas fa-lightbulb"></i>
                            Core Concept Explained
                        </div>
                        <p>
                            <strong>Traditional Internet:</strong> IP addresses (e.g., 192.168.1.1) identify locations, not entities. 
                            Separate systems (DNS, PKI, etc.) are needed to map names to addresses and establish trust.
                        </p>
                        <p>
                            <strong>UDNA Approach:</strong> DIDs (e.g., did:scp:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK) 
                            serve as both identity and address. Each DID resolves to a cryptographically verifiable document containing 
                            public keys and service endpoints, eliminating the need for separate trust systems.
                        </p>
                    </div>
                </section>

                <!-- Abstract -->
                <section id="abstract" class="content-section abstract">
                    <div class="abstract-title">
                        <i class="fas fa-file-alt"></i>
                        Abstract
                    </div>
                    <p>
                        Universal DID-Native Addressing (UDNA) is a network architecture specification that integrates 
                        Decentralized Identifiers (DIDs) as native network addresses. By using cryptographic identities 
                        as network endpoints, UDNA enables location-independent routing, inherent authentication, 
                        and privacy-preserving communication.
                    </p>
                    <p>
                        This specification provides the complete technical framework for UDNA implementation, 
                        including protocol mechanics, cryptographic requirements, architectural design, and 
                        implementation guidelines. UDNA addresses fundamental limitations in current internet 
                        architecture by unifying identity and addressing at the network layer.
                    </p>
                </section>

                <!-- Status -->
                <section id="status" class="content-section">
                    <div class="section-header">
                        <h2>Status of This Document</h2>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-info-circle"></i>
                            </div>
                            <div>
                                <div class="card-title">Publication Status</div>
                                <div class="card-subtitle">W3C Community Group Draft</div>
                            </div>
                        </div>
                        
                        <p><strong>This document is a draft technical specification.</strong> It is subject to change and should not be considered stable for production implementation without further review and standardization.</p>
                        
                        <div class="warning">
                            <p><strong>Important:</strong> This is a Community Group Draft and does not represent W3C consensus. It is inappropriate to cite this document as other than work in progress.</p>
                        </div>
                        
                        <p>This document is published by the Universal DID-Native Addressing (UDNA) Community Group as part of the W3C Community Group process. GitHub Issues are preferred for discussion of this specification.</p>
                    </div>
                </section>

                <!-- 1. Introduction -->
                <section id="introduction" class="content-section">
                    <div class="section-header">
                        <h2>1. Introduction</h2>
                    </div>
                    
                    <h3>1.1 Problem Statement</h3>
                    <p>
                        Current internet architecture separates identity from addressing, requiring multiple layered systems 
                        to establish communication and trust:
                    </p>
                    
                    <div class="explanation-box">
                        <div class="explanation-title">
                            <i class="fas fa-exclamation-triangle"></i>
                            Current Internet Architecture Limitations
                        </div>
                        <ul>
                            <li><strong>IP Addresses</strong> identify network interfaces, not entities or users</li>
                            <li><strong>DNS</strong> provides name resolution but introduces centralization and single points of failure</li>
                            <li><strong>Public Key Infrastructure (PKI)</strong> requires certificate authorities as trusted third parties</li>
                            <li><strong>Network Address Translation (NAT)</strong> breaks end-to-end connectivity</li>
                            <li><strong>Application-layer protocols</strong> must reimplement authentication and authorization</li>
                        </ul>
                    </div>

                    <h3>1.2 Solution Approach</h3>
                    <p>
                        UDNA integrates Decentralized Identifiers (DIDs) as native network addresses, providing:
                    </p>
                    
                    <div class="feature-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-fingerprint"></i>
                            </div>
                            <h4 class="feature-title">Identity-based Addressing</h4>
                            <p>Network addresses are cryptographic identities, enabling direct entity-to-entity communication</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <h4 class="feature-title">Built-in Authentication</h4>
                            <p>Authentication is inherent to the network layer through cryptographic proofs</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-user-secret"></i>
                            </div>
                            <h4 class="feature-title">Privacy by Design</h4>
                            <p>Pairwise ephemeral DIDs enable unlinkable communication and privacy preservation</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-network-wired"></i>
                            </div>
                            <h4 class="feature-title">Decentralized Operation</h4>
                            <p>No single points of control or failure in the addressing and routing system</p>
                        </div>
                    </div>

                    <h3>1.3 Design Principles</h3>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-compass"></i>
                            </div>
                            <div>
                                <div class="card-title">Core Design Principles</div>
                                <div class="card-subtitle">Technical Foundation of UDNA</div>
                            </div>
                        </div>
                        
                        <ul>
                            <li><strong>Decentralization</strong>: No central authorities or single points of failure in the addressing system</li>
                            <li><strong>Self-Sovereign Identity</strong>: Users control their cryptographic keys and identity documents</li>
                            <li><strong>Privacy Preservation</strong>: Built-in mechanisms for unlinkable communication and data protection</li>
                            <li><strong>Protocol Interoperability</strong>: Compatibility with existing DID methods and network protocols</li>
                            <li><strong>Cryptographic Agility</strong>: Support for multiple cryptographic algorithms and future advances</li>
                            <li><strong>Network Efficiency</strong>: Optimized routing and minimal overhead for practical deployment</li>
                        </ul>
                    </div>
                </section>

                <!-- 2. Terminology -->
                <section id="terminology" class="content-section">
                    <div class="section-header">
                        <h2>2. Terminology</h2>
                    </div>
                    
                    <h3>2.1 Core Definitions</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th width="200">Term</th>
                                    <th>Definition</th>
                                    <th width="150">Notation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Decentralized Identifier (DID)</strong></td>
                                    <td>A URI composed of three parts: `did:method:identifier`. Resolves to a DID Document containing cryptographic material and service endpoints.</td>
                                    <td><code>did:M:ID</code></td>
                                </tr>
                                <tr>
                                    <td><strong>DID Document</strong></td>
                                    <td>A structured document (JSON-LD or CBOR) containing cryptographic keys, verification methods, and service endpoints associated with a DID.</td>
                                    <td><code>D_doc(d) = (K, V, S)</code></td>
                                </tr>
                                <tr>
                                    <td><strong>UDNA Address</strong></td>
                                    <td>A unique, routable endpoint within the SCP network, defined as a function of a DID and facet identifier.</td>
                                    <td><code>A = f(did, facet_id)</code></td>
                                </tr>
                                <tr>
                                    <td><strong>Pairwise-Ephemeral DID (PE-DID)</strong></td>
                                    <td>A short-lived DID derived from a privacy-preserving DID for specific transactions, providing unlinkability.</td>
                                    <td><code>PE = KDF(Root, Context)</code></td>
                                </tr>
                                <tr>
                                    <td><strong>Zero-Knowledge Capability (ZCAP)</strong></td>
                                    <td>A cryptographically signed delegation token that authorizes specific actions using zero-knowledge proofs.</td>
                                    <td><code>ZCAP = Sig(sk, {action, resource})</code></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>2.2 Mathematical Notation</h3>
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-superscript"></i>
                                Notation Reference
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-plaintext">||    : Concatenation operator
     : XOR operation  
H(x)  : Cryptographic hash function applied to x
Sig(sk, m) : Digital signature of message m using private key sk
Verify(pk, m, ) : Signature verification using public key pk
KDF(k, c) : Key derivation function with key k and context c
A  B : XOR distance between identifiers A and B</code></pre>
                    </div>
                </section>

                <!-- 3. Architecture -->
                <section id="architecture" class="content-section">
                    <div class="section-header">
                        <h2>3. Architecture Overview</h2>
                    </div>
                    
                    <h3>3.1 Layered Architecture</h3>
                    
                    <div class="architecture-visual">
                        <div class="layer-card">
                            <div class="layer-number">6</div>
                            <h4>Application Layer</h4>
                            <p>DApps, Services, User Interfaces</p>
                        </div>
                        
                        <div class="layer-card">
                            <div class="layer-number">5</div>
                            <h4>Security & Privacy Layer</h4>
                            <p>ZCAPs, Pairwise DIDs, Encryption</p>
                        </div>
                        
                        <div class="layer-card">
                            <div class="layer-number">4</div>
                            <h4>Network Layer</h4>
                            <p>SCP Overlay, Routing, Discovery</p>
                        </div>
                        
                        <div class="layer-card">
                            <div class="layer-number">3</div>
                            <h4>Cryptographic Layer</h4>
                            <p>Key Management, Signatures, KDFs</p>
                        </div>
                        
                        <div class="layer-card">
                            <div class="layer-number">2</div>
                            <h4>Resolution Layer</h4>
                            <p>DID Resolution, Document Caching</p>
                        </div>
                        
                        <div class="layer-card">
                            <div class="layer-number">1</div>
                            <h4>Binary Protocol Layer</h4>
                            <p>Wire Protocol, Header Format</p>
                        </div>
                    </div>

                    <h3>3.2 Protocol Stack Comparison</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Layer</th>
                                    <th>Traditional Internet</th>
                                    <th>UDNA/SCP Network</th>
                                    <th>Improvement</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Addressing</strong></td>
                                    <td>IP (Location-based)</td>
                                    <td>DID (Identity-based)</td>
                                    <td class="good">Location independence</td>
                                </tr>
                                <tr>
                                    <td><strong>Naming</strong></td>
                                    <td>DNS (Centralized)</td>
                                    <td>DID Resolution (Decentralized)</td>
                                    <td class="good">Censorship resistance</td>
                                </tr>
                                <tr>
                                    <td><strong>Trust</strong></td>
                                    <td>PKI/CA (Hierarchical)</td>
                                    <td>Self-sovereign cryptography</td>
                                    <td class="good">No central authorities</td>
                                </tr>
                                <tr>
                                    <td><strong>Authentication</strong></td>
                                    <td>Application layer</td>
                                    <td>Network primitive</td>
                                    <td class="good">Simplified development</td>
                                </tr>
                                <tr>
                                    <td><strong>Privacy</strong></td>
                                    <td>Add-on services</td>
                                    <td>Built-in design</td>
                                    <td class="good">Stronger default guarantees</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="explanation-box">
                        <div class="explanation-title">
                            <i class="fas fa-question-circle"></i>
                            Why This Architecture Matters
                        </div>
                        <p>
                            <strong>Traditional Approach:</strong> Applications must implement their own authentication, 
                            manage certificate authorities, and handle NAT traversal. Each layer adds complexity and 
                            potential security vulnerabilities.
                        </p>
                        <p>
                            <strong>UDNA Approach:</strong> Identity, authentication, and privacy are built into the network layer. 
                            Applications communicate directly using cryptographic identities, eliminating the need for 
                            intermediate trust systems and simplifying development.
                        </p>
                    </div>
                </section>

                <!-- 4. Core Protocol -->
                <section id="protocol" class="content-section">
                    <div class="section-header">
                        <h2>4. Core Protocol Specification</h2>
                    </div>
                    
                    <h3>4.1 UDNA Address Header Format</h3>
                    
                    <div class="protocol-diagram">
                        <h4>Header Structure</h4>
                        
                        <!-- ASCII Art Table for Protocol Header -->
                        <div class="ascii-table">
                            <table>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>                         UDNA Header Format                              </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  Offset  Size  Field        Description                              </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   0       1    Version      Protocol version (0x01)                  </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   1       2    Flags        Protocol control flags                   </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   3       1    DID Type     DID method identifier                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   4       1    DID Length   Length of DID in bytes                  </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   5       1    Facet ID     Service facet identifier (0-255)        </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   6       1    Reserved     Reserved for future use                 </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   7       n    DID Bytes    DID identifier bytes (variable)         </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   7+n     32   Key Hint     Public key hint (256 bits)              </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  39+n     m    Route Hint   Route information (CBOR, variable)      </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  39+n+m   16   Nonce        Random nonce (128 bits)                 </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  55+n+m   k    Signature    Cryptographic signature (64 bytes)    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                            </table>
                        </div>
                        
                        <div class="explanation-box">
                            <div class="explanation-title">
                                <i class="fas fa-info-circle"></i>
                                Header Field Explanation
                            </div>
                            <p>
                                <strong>Key Hint (32 bytes):</strong> A truncated hash of the public key, used for efficient key 
                                lookup in resolution caches without revealing the full public key.
                            </p>
                            <p>
                                <strong>Route Hint (variable):</strong> CBOR-encoded routing information that helps nodes 
                                efficiently locate the destination, particularly useful for mobile or NAT-traversed nodes.
                            </p>
                            <p>
                                <strong>Nonce (16 bytes):</strong> Prevents replay attacks and ensures message uniqueness. 
                                Each message must have a unique nonce within its validity period.
                            </p>
                        </div>
                    </div>

                    <h3>4.2 Field Specifications</h3>
                    
                    <h4>4.2.1 Version (8 bits)</h4>
                    <p>Protocol version identifier. Current version is <code>0x01</code>.</p>
                    
                    <h4>4.2.2 Flags (16 bits)</h4>
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-flag"></i>
                                Flag Bit Assignments
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-plaintext">Bit 0 (P): Pairwise flag - indicates PE-DID derived from PP-DID
Bit 1 (R): Rotation flag - message contains key rotation proof  
Bit 2 (E): Ephemeral flag - single-use DID, no state persistence
Bit 3 (A): Acknowledgment requested - requests transport-layer ACK
Bit 4 (K): Key pre-rotation hint - signals upcoming key rotation
Bits 5-15: Reserved for future use</code></pre>
                    </div>
                    
                    <h4>4.2.3 DID Types</h4>
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Value</th>
                                    <th>DID Method</th>
                                    <th>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><code>0x01</code></td>
                                    <td>did:key</td>
                                    <td>Inline public key DIDs</td>
                                </tr>
                                <tr>
                                    <td><code>0x02</code></td>
                                    <td>did:web</td>
                                    <td>Web-hosted DIDs</td>
                                </tr>
                                <tr>
                                    <td><code>0x03</code></td>
                                    <td>did:scp</td>
                                    <td>SCP network DIDs (native)</td>
                                </tr>
                                <tr>
                                    <td><code>0x04</code></td>
                                    <td>did:ion</td>
                                    <td>ION blockchain DIDs</td>
                                </tr>
                                <tr>
                                    <td><code>0x05</code></td>
                                    <td>did:ethr</td>
                                    <td>Ethereum-based DIDs</td>
                                </tr>
                                <tr>
                                    <td><code>0xFF</code></td>
                                    <td>Experimental</td>
                                    <td>Reserved for experimental methods</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Full-width Architecture Section -->
                <section class="full-width-section">
                    <div class="section-header">
                        <h2>How UDNA Works: A Practical Example</h2>
                    </div>
                    
                    <div class="section-content">
                        <div class="protocol-stack">
                            <div class="stack-layer">
                                <div class="stack-number">1</div>
                                <div>
                                    <strong>DID Creation</strong>: Alice generates a cryptographic key pair and creates a DID (e.g., did:scp:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK)
                                </div>
                            </div>
                            <div class="stack-layer">
                                <div class="stack-number">2</div>
                                <div>
                                    <strong>Document Publication</strong>: Alice creates a DID Document with her public key and service endpoints, then publishes it to the DHT
                                </div>
                            </div>
                            <div class="stack-layer">
                                <div class="stack-number">3</div>
                                <div>
                                    <strong>Address Resolution</strong>: Bob wants to send a message to Alice. He uses her DID as the address, and the network resolves it to current network locations
                                </div>
                            </div>
                            <div class="stack-layer">
                                <div class="stack-number">4</div>
                                <div>
                                    <strong>Secure Session</strong>: Bob establishes an encrypted session using Alice's public key from her DID Document
                                </div>
                            </div>
                            <div class="stack-layer">
                                <div class="stack-number">5</div>
                                <div>
                                    <strong>Message Delivery</strong>: Messages are routed through the SCP overlay network directly to Alice's current network location
                                </div>
                            </div>
                        </div>
                        
                        <div class="explanation-box">
                            <div class="explanation-title">
                                <i class="fas fa-cogs"></i>
                                Key Technical Innovations
                            </div>
                            <ul>
                                <li><strong>Location Independence:</strong> Alice can move between networks without changing her address</li>
                                <li><strong>Built-in Authentication:</strong> Bob verifies Alice's identity using her cryptographic keys</li>
                                <li><strong>Privacy Protection:</strong> Optional pairwise DIDs prevent correlation of different conversations</li>
                                <li><strong>Decentralized Resolution:</strong> No central directory service required for address lookup</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <!-- 5. Resolution Subsystem -->
                <section id="resolution" class="content-section">
                    <div class="section-header">
                        <h2>5. Resolution Subsystem</h2>
                    </div>
                    
                    <h3>5.1 Resolution Architecture</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-search"></i>
                            </div>
                            <div>
                                <div class="card-title">Three-Tier Resolution System</div>
                                <div class="card-subtitle">Efficient DID Document Lookup with Caching</div>
                            </div>
                        </div>
                        
                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-memory"></i>
                                </div>
                                <h4 class="feature-title">L1 Cache</h4>
                                <p>In-memory LRU cache for frequently accessed DID Documents (~1000 entries)</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-database"></i>
                                </div>
                                <h4 class="feature-title">L2 Cache</h4>
                                <p>Persistent local storage for recently accessed documents (~10,000 entries)</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-network-wired"></i>
                                </div>
                                <h4 class="feature-title">L3 Cache</h4>
                                <p>Distributed cache via SCP DHT for all documents in the network</p>
                            </div>
                        </div>
                    </div>

                    <h3>5.2 DID Resolution Process</h3>
                    
                    <div class="ascii-table">
                        <table>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>                 DID Resolution Flow                          </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>  1. Receive UDNA address with DID                           </td>
                            </tr>
                            <tr>
                                <td>  2. Check L1 cache (memory)                                 </td>
                            </tr>
                            <tr>
                                <td>      Hit: Return cached document                          </td>
                            </tr>
                            <tr>
                                <td>      Miss: Continue to step 3                             </td>
                            </tr>
                            <tr>
                                <td>  3. Check L2 cache (local storage)                          </td>
                            </tr>
                            <tr>
                                <td>      Hit: Return cached document, update L1              </td>
                            </tr>
                            <tr>
                                <td>      Miss: Continue to step 4                             </td>
                            </tr>
                            <tr>
                                <td>  4. Query SCP DHT (distributed cache)                       </td>
                            </tr>
                            <tr>
                                <td>      Hit: Return document, update L2 and L1              </td>
                            </tr>
                            <tr>
                                <td>      Miss: Perform full resolution                        </td>
                            </tr>
                            <tr>
                                <td>  5. Full resolution based on DID method                     </td>
                            </tr>
                            <tr>
                                <td>      did:scp: Query DHT directly                         </td>
                            </tr>
                            <tr>
                                <td>      did:web: HTTPS request to web server                </td>
                            </tr>
                            <tr>
                                <td>      did:key: Local key derivation                       </td>
                            </tr>
                            <tr>
                                <td>      Other: Method-specific resolution                   </td>
                            </tr>
                            <tr>
                                <td>  6. Validate document signatures and proofs                 </td>
                            </tr>
                            <tr>
                                <td>  7. Cache document in L3, L2, and L1                        </td>
                            </tr>
                            <tr>
                                <td>  8. Return resolved document                                </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                        </table>
                    </div>

                    <h3>5.3 Proof-of-Control Verification</h3>
                    <div class="highlight">
                        <p><strong>Verification Requirements:</strong></p>
                        <ol>
                            <li><strong>Initial Resolution</strong>: For `did:scp` methods, the DHT record must be signed by a key present in the DID Document itself</li>
                            <li><strong>Document Updates</strong>: Updated documents must be signed by a key authorized in the previous valid version</li>
                            <li><strong>Key Rotation</strong>: Rotation proofs must be signed by the previous key and include the new document hash</li>
                        </ol>
                    </div>
                </section>

                <!-- 6. Cryptographic Framework -->
                <section id="cryptography" class="content-section">
                    <div class="section-header">
                        <h2>6. Cryptographic Framework</h2>
                    </div>
                    
                    <h3>6.1 Required Algorithms</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Category</th>
                                    <th>Algorithm</th>
                                    <th>Standard</th>
                                    <th>Purpose</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Digital Signatures</strong></td>
                                    <td>Ed25519</td>
                                    <td>RFC 8032</td>
                                    <td>Primary signature algorithm</td>
                                    <td class="good">REQUIRED</td>
                                </tr>
                                <tr>
                                    <td><strong>Key Agreement</strong></td>
                                    <td>X25519</td>
                                    <td>RFC 7748</td>
                                    <td>Primary key exchange</td>
                                    <td class="good">REQUIRED</td>
                                </tr>
                                <tr>
                                    <td><strong>Symmetric Encryption</strong></td>
                                    <td>ChaCha20-Poly1305</td>
                                    <td>RFC 8439</td>
                                    <td>AEAD cipher (preferred)</td>
                                    <td class="good">REQUIRED</td>
                                </tr>
                                <tr>
                                    <td><strong>Hash Functions</strong></td>
                                    <td>BLAKE2b</td>
                                    <td>RFC 7693</td>
                                    <td>Primary hash function</td>
                                    <td class="good">REQUIRED</td>
                                </tr>
                                <tr>
                                    <td><strong>Alternative Signatures</strong></td>
                                    <td>ES256K</td>
                                    <td>RFC 7515</td>
                                    <td>Ethereum compatibility</td>
                                    <td class="partial">OPTIONAL</td>
                                </tr>
                                <tr>
                                    <td><strong>Advanced Signatures</strong></td>
                                    <td>BLS12-381</td>
                                    <td>draft-irtf-cfrg-bls-signature</td>
                                    <td>Signature aggregation</td>
                                    <td class="partial">OPTIONAL</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>6.2 Key Derivation and Management</h3>
                    
                    <div class="ascii-table">
                        <table>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>            Key Hierarchy and Derivation                      </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>  Master Key (Root)                                           </td>
                            </tr>
                            <tr>
                                <td>   Identity Key (Ed25519) - Long-term identity              </td>
                            </tr>
                            <tr>
                                <td>   Encryption Key (X25519) - Session establishment         </td>
                            </tr>
                            <tr>
                                <td>   Derivation Key - For generating ephemeral keys          </td>
                            </tr>
                            <tr>
                                <td>                                                             </td>
                            </tr>
                            <tr>
                                <td>  From Identity Key:                                          </td>
                            </tr>
                            <tr>
                                <td>   Pairwise-Persistent DIDs (PP-DIDs)                      </td>
                            </tr>
                            <tr>
                                <td>      For long-term relationships                         </td>
                            </tr>
                            <tr>
                                <td>   Pairwise-Ephemeral DIDs (PE-DIDs)                       </td>
                            </tr>
                            <tr>
                                <td>       For single transactions/sessions                    </td>
                            </tr>
                            <tr>
                                <td>                                                             </td>
                            </tr>
                            <tr>
                                <td>  Derivation Formula:                                         </td>
                            </tr>
                            <tr>
                                <td>  PE-DID = BLAKE2b(Root_Private_Key || Context || Counter)   </td>
                            </tr>
                            <tr>
                                <td>  Context = relationship_id || purpose || timestamp          </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                        </table>
                    </div>

                    <h3>6.3 Key Rotation Protocol</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-sync-alt"></i>
                            </div>
                            <div>
                                <div class="card-title">Three-Phase Rotation Protocol</div>
                                <div class="card-subtitle">Ensuring Continuous Service During Key Updates</div>
                            </div>
                        </div>
                        
                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-hourglass-start"></i>
                                </div>
                                <h4 class="feature-title">Phase 1: Pre-rotation</h4>
                                <p>Generate new key pair, create new DID Document with both old and new keys, begin advertising new key</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-exchange-alt"></i>
                                </div>
                                <h4 class="feature-title">Phase 2: Rotation</h4>
                                <p>Create and sign rotation proof, broadcast to cached nodes, update service endpoints, accept both keys</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-hourglass-end"></i>
                                </div>
                                <h4 class="feature-title">Phase 3: Post-rotation</h4>
                                <p>Monitor old-key usage, remove old key after grace period (typically 7 days), update DHT with final document</p>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- 7. SCP Overlay Network -->
                <section id="network-layer" class="content-section">
                    <div class="section-header">
                        <h2>7. Network Layer: SCP Overlay</h2>
                    </div>
                    
                    <h3>7.1 DHT Architecture</h3>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-network-wired"></i>
                                Modified Kademlia DHT
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-rust">// Node Identification (Sybil-resistant)
NodeID = BLAKE3(primary_verification_key_bytes)

// Distance Metric (XOR for efficient routing)
fn distance(a: NodeID, b: NodeID) -> NodeID {
    a ^ b
}

// Stored Values (Signed PeerInfo structures)
struct PeerInfo {
    did: String,
    multiaddrs: Vec<String>,
    facets: Vec<FacetInfo>,
    timestamp: u64,
    signature: Vec<u8>,
}

struct FacetInfo {
    id: u8,
    capability: Option<Vec<u8>>,
}</code></pre>
                    </div>

                    <h3>7.2 Network Discovery and Routing</h3>
                    
                    <div class="ascii-table">
                        <table>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>          SCP Network Node Discovery                          </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>  1. Bootstrap: Connect to known entry nodes                  </td>
                            </tr>
                            <tr>
                                <td>  2. Exchange: Share routing tables with neighbors            </td>
                            </tr>
                            <tr>
                                <td>  3. Store: Publish own PeerInfo to DHT                       </td>
                            </tr>
                            <tr>
                                <td>  4. Discover: Learn about other nodes through DHT queries    </td>
                            </tr>
                            <tr>
                                <td>  5. Maintain: Regularly refresh routing table entries        </td>
                            </tr>
                            <tr>
                                <td>                                                             </td>
                            </tr>
                            <tr>
                                <td>          Message Routing Process                             </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>  1. Resolve target DID to current network locations          </td>
                            </tr>
                            <tr>
                                <td>  2. Select optimal route based on latency and reliability    </td>
                            </tr>
                            <tr>
                                <td>  3. Establish encrypted session (Noise_XX pattern)           </td>
                            </tr>
                            <tr>
                                <td>  4. Transmit message with end-to-end encryption              </td>
                            </tr>
                            <tr>
                                <td>  5. Acknowledge delivery or retry as needed                  </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                        </table>
                    </div>

                    <h3>7.3 NAT Traversal and Relaying</h3>
                    
                    <div class="explanation-box">
                        <div class="explanation-title">
                            <i class="fas fa-satellite-dish"></i>
                            Network Connectivity Solutions
                        </div>
                        <p>
                            UDNA includes several mechanisms to handle network connectivity challenges:
                        </p>
                        <ul>
                            <li><strong>STUN/ICE Integration:</strong> Uses standard NAT traversal techniques to establish direct connections</li>
                            <li><strong>Relay Nodes:</strong> Designated nodes that forward traffic for NAT-traversed peers</li>
                            <li><strong>Hole Punching:</strong> Coordinated connection attempts to establish direct P2P links</li>
                            <li><strong>UPnP/IGD Support:</strong> Automatic port forwarding where supported by network equipment</li>
                        </ul>
                        <p>
                            Relay nodes are compensated for their services through micro-payments or reputation systems, 
                            ensuring sustainable operation without central funding.
                        </p>
                    </div>
                </section>

                <!-- 8. Security and Privacy -->
                <section id="security" class="content-section">
                    <div class="section-header">
                        <h2>8. Security and Privacy</h2>
                    </div>
                    
                    <h3>8.1 Security Model</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div>
                                <div class="card-title">Security Assumptions</div>
                                <div class="card-subtitle">Foundation for Security Analysis</div>
                            </div>
                        </div>
                        
                        <ul>
                            <li><strong>Cryptographic Primitives</strong>: Standard assumptions hold (SUF-CMA for signatures, IND-CCA2 for encryption)</li>
                            <li><strong>Network Adversary</strong>: Adversary controls network communication but not endpoint devices</li>
                            <li><strong>Honest Majority</strong>: More than 50% of DHT nodes follow the protocol correctly</li>
                            <li><strong>Key Security</strong>: Private keys are securely stored and managed by their owners</li>
                            <li><strong>Timing Assumptions</strong>: Clocks are loosely synchronized (5 minutes acceptable)</li>
                        </ul>
                    </div>

                    <h3>8.2 Security Properties and Proofs</h3>
                    
                    <h4>8.2.1 Address Integrity Theorem</h4>
                    <div class="highlight">
                        <p><strong>Theorem:</strong> A UDNA Address Header cannot be modified in transit without detection.</p>
                        <p><strong>Proof:</strong> The header signature is computed as <code>Sig(SK_i, H(header_fields))</code> where <code>SK_i</code> is the DID's private key. Verification requires <code>Verify(PK_i, H(header_fields), signature)</code> where <code>PK_i</code> is from the resolved DID Document. The security reduces to the existential unforgeability of the signature scheme under chosen message attacks (SUF-CMA).</p>
                    </div>
                    
                    <h4>8.2.2 Identity Binding Theorem</h4>
                    <div class="highlight">
                        <p><strong>Theorem:</strong> A successful UDNA session establishes proof of private key possession.</p>
                        <p><strong>Proof:</strong> The Noise_XX handshake pattern requires both parties to perform Diffie-Hellman operations using their static private keys. A party not possessing the private key corresponding to their advertised DID cannot complete the handshake, as the shared secret derivation will fail.</p>
                    </div>

                    <h3>8.3 Privacy Architecture</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-user-secret"></i>
                            </div>
                            <div>
                                <div class="card-title">Pairwise Identity System</div>
                                <div class="card-subtitle">Unlinkable Privacy by Design</div>
                            </div>
                        </div>
                        
                        <div class="ascii-table">
                            <table>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>         Pairwise DID Privacy Properties                     </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  Property                 Description                      </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  Deterministic            Same inputs  same PE-DID        </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  Unlinkable               Without root key, cannot relate  </td>
                                </tr>
                                <tr>
                                    <td>                           PE-DIDs to each other            </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  Unique                   Different relationships         </td>
                                </tr>
                                <tr>
                                    <td>                           different PE-DIDs                </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  Recoverable              With root key, can regenerate    </td>
                                </tr>
                                <tr>
                                    <td>                           any PE-DID                       </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                            </table>
                        </div>
                        
                        <div class="explanation-box">
                            <div class="explanation-title">
                                <i class="fas fa-user-friends"></i>
                                Practical Privacy Example
                            </div>
                            <p>
                                <strong>Scenario:</strong> Alice wants to communicate with Bob, Carol, and Dave without revealing 
                                that all communications are from the same person.
                            </p>
                            <p>
                                <strong>Solution:</strong> Alice uses different Pairwise-Ephemeral DIDs for each relationship:
                            </p>
                            <ul>
                                <li>For Bob: <code>PE-DID_B = KDF(Root_Key, "bob-relationship")</code></li>
                                <li>For Carol: <code>PE-DID_C = KDF(Root_Key, "carol-relationship")</code></li>
                                <li>For Dave: <code>PE-DID_D = KDF(Root_Key, "dave-relationship")</code></li>
                            </ul>
                            <p>
                                Each party sees a different DID, and without Alice's root key, they cannot determine 
                                that these DIDs belong to the same person.
                            </p>
                        </div>
                    </div>

                    <h3>8.4 Attack Mitigations</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Attack Type</th>
                                    <th>Description</th>
                                    <th>UDNA Mitigation</th>
                                    <th>Effectiveness</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Eclipse Attack</strong></td>
                                    <td>Adversary surrounds target with malicious nodes</td>
                                    <td>Diverse routing table maintenance, random walk discovery</td>
                                    <td class="good">High</td>
                                </tr>
                                <tr>
                                    <td><strong>Sybil Attack</strong></td>
                                    <td>Adversary creates many fake identities</td>
                                    <td>Proof-of-work for node ID generation, reputation systems</td>
                                    <td class="good">High</td>
                                </tr>
                                <tr>
                                    <td><strong>Replay Attack</strong></td>
                                    <td>Reusing valid messages</td>
                                    <td>Nonces, timestamps, session-specific context</td>
                                    <td class="good">High</td>
                                </tr>
                                <tr>
                                    <td><strong>Man-in-the-Middle</strong></td>
                                    <td>Intercepting and modifying communication</td>
                                    <td>End-to-end encryption, cryptographic authentication</td>
                                    <td class="good">High</td>
                                </tr>
                                <tr>
                                    <td><strong>Traffic Analysis</strong></td>
                                    <td>Analyzing metadata patterns</td>
                                    <td>Cover traffic, timing randomization, onion routing</td>
                                    <td class="partial">Medium</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- 9. Implementation Guidelines -->
                <section id="implementation" class="content-section">
                    <div class="section-header">
                        <h2>9. Implementation Guidelines</h2>
                    </div>
                    
                    <h3>9.1 Reference Implementation Structure</h3>
                    
                    <div class="ascii-table">
                        <table>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>               UDNA Implementation Stack                       </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>  Application Layer                                          </td>
                            </tr>
                            <tr>
                                <td>   DApps, messaging clients, file sharing                 </td>
                            </tr>
                            <tr>
                                <td>   UDNA SDK integration                                   </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>  UDNA SDK                                                  </td>
                            </tr>
                            <tr>
                                <td>   Resolver Engine (DID resolution, caching)              </td>
                            </tr>
                            <tr>
                                <td>   Crypto Engine (signatures, encryption, KDFs)           </td>
                            </tr>
                            <tr>
                                <td>   Transport Stack (session management, message routing)  </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                            <tr>
                                <td>  SCP Core Engine                                           </td>
                            </tr>
                            <tr>
                                <td>   DHT Routing (Kademlia implementation)                  </td>
                            </tr>
                            <tr>
                                <td>   Wire Protocol (binary format, framing)                 </td>
                            </tr>
                            <tr>
                                <td>   NAT Traversal (STUN, ICE, relaying)                    </td>
                            </tr>
                            <tr>
                                <td></td>
                            </tr>
                        </table>
                    </div>

                    <h3>9.2 Performance Requirements</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Metric</th>
                                    <th>Target Performance</th>
                                    <th>Rationale</th>
                                    <th>Test Conditions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>DID Resolution</strong></td>
                                    <td>&lt;100ms</td>
                                    <td>Interactive application responsiveness</td>
                                    <td>Cached resolution, warm DHT</td>
                                </tr>
                                <tr>
                                    <td><strong>Header Validation</strong></td>
                                    <td>&lt;1ms</td>
                                    <td>Network layer efficiency</td>
                                    <td>Single signature verification</td>
                                </tr>
                                <tr>
                                    <td><strong>Session Establishment</strong></td>
                                    <td>&lt;200ms</td>
                                    <td>Comparable to TLS handshake</td>
                                    <td>Noise_XX handshake pattern</td>
                                </tr>
                                <tr>
                                    <td><strong>DHT Lookup</strong></td>
                                    <td>&lt;500ms</td>
                                    <td>3-hop average in 1M node network</td>
                                    <td>Concurrent queries, =3</td>
                                </tr>
                                <tr>
                                    <td><strong>Memory Usage</strong></td>
                                    <td>&lt;50MB</td>
                                    <td>Suitable for mobile deployment</td>
                                    <td>10K cached DIDs, full stack</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <h3>9.3 Error Handling and Recovery</h3>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-exclamation-triangle"></i>
                                Error Handling Framework
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-rust">#[derive(Debug, Error)]
pub enum UDNAError {
    #[error("DID resolution failed: {0}")]
    ResolutionFailed(String),
    
    #[error("Cryptographic operation failed: {0}")]
    CryptoError(#[from] CryptoError),
    
    #[error("Network error: {0}")]
    NetworkError(#[from] NetworkError),
    
    #[error("Protocol violation: {0}")]
    ProtocolError(String),
    
    #[error("Header validation failed: {0}")]
    HeaderValidationError(HeaderError),
    
    #[error("Key rotation in progress: {0}")]
    KeyRotationError(String),
    
    #[error("ZCAP verification failed: {0}")]
    ZCAPError(String),
}

// Automatic recovery strategies based on error type
impl UDNAError {
    pub fn recovery_strategy(&self) -> RecoveryStrategy {
        match self {
            UDNAError::ResolutionFailed(_) => RecoveryStrategy::RetryWithFallback,
            UDNAError::NetworkError(_) => RecoveryStrategy::Reconnect,
            UDNAError::KeyRotationError(_) => RecoveryStrategy::RefreshAndRetry,
            _ => RecoveryStrategy::FailFast,
        }
    }
}</code></pre>
                    </div>
                </section>

                <!-- Full-width Deployment Section -->
                <section class="full-width-section">
                    <div class="section-header">
                        <h2>Deployment and Migration Strategies</h2>
                    </div>
                    
                    <div class="section-content">
                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-bridge"></i>
                                </div>
                                <h4 class="feature-title">Gateway Deployment</h4>
                                <p>UDNA gateways translate between traditional protocols (HTTP, SMTP) and UDNA, enabling gradual adoption without requiring all endpoints to upgrade simultaneously.</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-code-branch"></i>
                                </div>
                                <h4 class="feature-title">Hybrid Operation</h4>
                                <p>Applications can support both traditional addressing and UDNA addressing, with automatic protocol selection based on destination capabilities.</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-mobile-alt"></i>
                                </div>
                                <h4 class="feature-title">Mobile and IoT</h4>
                                <p>Lightweight client implementations with reduced resource requirements for mobile devices and IoT endpoints.</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-server"></i>
                                </div>
                                <h4 class="feature-title">Enterprise Integration</h4>
                                <p>Corporate deployment models with enhanced logging, monitoring, and integration with existing identity management systems.</p>
                            </div>
                        </div>
                        
                        <div class="explanation-box">
                            <div class="explanation-title">
                                <i class="fas fa-road"></i>
                                Migration Path from Current Internet
                            </div>
                            <ol>
                                <li><strong>Phase 1 (Gateway Services):</strong> UDNA gateways provide access to UDNA network from traditional applications</li>
                                <li><strong>Phase 2 (Dual-Stack Applications):</strong> Applications support both IP and UDNA addressing</li>
                                <li><strong>Phase 3 (UDNA-Native Applications):</strong> New applications built specifically for UDNA architecture</li>
                                <li><strong>Phase 4 (Legacy Protocol Deprecation):</strong> Gradual reduction of traditional protocol support as UDNA adoption increases</li>
                            </ol>
                        </div>
                    </div>
                </section>

                <!-- 10. Interoperability -->
                <section id="interoperability" class="content-section">
                    <div class="section-header">
                        <h2>10. Interoperability</h2>
                    </div>
                    
                    <h3>10.1 Legacy Internet Integration</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-bridge"></i>
                            </div>
                            <div>
                                <div class="card-title">UDNA Gateway Architecture</div>
                                <div class="card-subtitle">Protocol Translation Between Systems</div>
                            </div>
                        </div>
                        
                        <div class="ascii-table">
                            <table>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>         HTTP  UDNA Gateway Operation                        </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  1. HTTP client sends request to gateway                    </td>
                                </tr>
                                <tr>
                                    <td>  2. Gateway extracts Host header                           </td>
                                </tr>
                                <tr>
                                    <td>  3. Query DNS for `_udna.<domain>` TXT record              </td>
                                </tr>
                                <tr>
                                    <td>  4. TXT record contains target DID                         </td>
                                </tr>
                                <tr>
                                    <td>  5. Gateway resolves DID to service endpoints              </td>
                                </tr>
                                <tr>
                                    <td>  6. Establish UDNA session to target                       </td>
                                </tr>
                                <tr>
                                    <td>  7. Translate HTTP request to UDNA message                 </td>
                                </tr>
                                <tr>
                                    <td>  8. Forward response back to HTTP client                    </td>
                                </tr>
                                <tr>
                                    <td>                                                             </td>
                                </tr>
                                <tr>
                                    <td>  DNS Integration Example:                                   </td>
                                </tr>
                                <tr>
                                    <td>  _udna.example.com. 300 IN TXT                             </td>
                                </tr>
                                <tr>
                                    <td>  "did:scp:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK"</td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <h3>10.2 DID Method Compatibility</h3>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-handshake"></i>
                                Cross-Method Support Implementation
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-rust">pub enum DIDMethod {
    Key(did_key::KeyDID),
    Web(did_web::WebDID), 
    SCP(did_scp::SCPDID),
    ION(did_ion::IONDID),
    Unknown(String),
}

impl DIDMethod {
    pub async fn resolve(&self) -> Result<DIDDocument, ResolverError> {
        match self {
            DIDMethod::Key(did) => did.resolve_locally(),
            DIDMethod::Web(did) => did.resolve_via_https().await,
            DIDMethod::SCP(did) => did.resolve_via_dht().await,
            DIDMethod::ION(did) => did.resolve_via_bitcoin().await,
            DIDMethod::Unknown(_) => Err(ResolverError::UnsupportedMethod),
        }
    }
}</code></pre>
                    </div>

                    <h3>10.3 Protocol Bridges</h3>
                    <div class="success">
                        <p><strong>Seamless Cross-Protocol Communication:</strong> UDNA enables communication between different network protocols through protocol bridges:</p>
                        <div class="ascii-table">
                            <table>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>           Supported Protocol Bridges                         </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  Protocol  Bridge Type       Use Case                     </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  HTTP/HTTPSGateway           Web application access       </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  SMTP     Email Gateway     Email sending/receiving      </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  XMPP     Messaging Bridge  Instant messaging            </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  Matrix   Federation Bridge Chat room federation         </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>  IPFS     Storage Bridge    Decentralized file storage   </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- 11. Formal Analysis -->
                <section id="formal-analysis" class="content-section">
                    <div class="section-header">
                        <h2>11. Formal Analysis</h2>
                    </div>
                    
                    <h3>11.1 Protocol Verification</h3>
                    
                    <h4>11.1.1 State Machine Models</h4>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-project-diagram"></i>
                                DID Resolution State Machine (TLA+)
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-plaintext">VARIABLES 
    cache,          \* Local DID document cache
    resolving,      \* Set of DIDs currently being resolved  
    network_state   \* Network connectivity status

Init == 
    /\ cache = [did \in DID |-> NULL]
    /\ resolving = {}
    /\ network_state = "connected"

Resolve(did) ==
    /\ did \notin resolving
    /\ resolving' = resolving \union {did}
    /\ \/ /\ cache[did] # NULL 
          /\ cache[did].ttl > Now()
          /\ RETURN cache[did].document
       \/ /\ QueryNetwork(did)
          /\ AWAIT NetworkResponse(did)

UpdateCache(did, document, ttl) ==
    /\ cache' = [cache EXCEPT ![did] = 
                  [document |-> document, ttl |-> ttl]]
    /\ resolving' = resolving \ {did}</code></pre>
                    </div>

                    <h4>11.1.2 Security Properties</h4>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-shield-alt"></i>
                                Formal Security Properties (TLA+)
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-plaintext">AuthenticationIntegrity ==
    \A session \in Sessions :
        session.authenticated => 
            ControlsKey(session.peer_did, session.peer_key)

MessageOrdering ==
    \A s1, s2 \in SentMessages :
        /\ s1.session_id = s2.session_id
        /\ s1.sequence < s2.sequence
        => s1.timestamp <= s2.timestamp

ResolutionLiveness ==
    \A did \in ValidDIDs :
        <>[] (ResolveRequest(did) ~> ResolveResponse(did))</code></pre>
                    </div>

                    <h3>11.2 Performance Analysis</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Operation</th>
                                    <th>Time Complexity</th>
                                    <th>Space Complexity</th>
                                    <th>Practical Impact</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>DID Resolution (cached)</strong></td>
                                    <td>O(1)</td>
                                    <td>O(n) for cache</td>
                                    <td>&lt;1ms for cache hit</td>
                                </tr>
                                <tr>
                                    <td><strong>DID Resolution (DHT)</strong></td>
                                    <td>O(log n)</td>
                                    <td>O(log n) per node</td>
                                    <td>~200ms for 1M nodes</td>
                                </tr>
                                <tr>
                                    <td><strong>Session Establishment</strong></td>
                                    <td>O(1)</td>
                                    <td>O(1)</td>
                                    <td>~150ms (2x DH ops)</td>
                                </tr>
                                <tr>
                                    <td><strong>Message Routing</strong></td>
                                    <td>O(log n)</td>
                                    <td>O(log n) routing table</td>
                                    <td>~3 hops average</td>
                                </tr>
                                <tr>
                                    <td><strong>Key Rotation</strong></td>
                                    <td>O(k) for k cached nodes</td>
                                    <td>O(1)</td>
                                    <td>Scales with network size</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- 12. Future Considerations -->
                <section id="future" class="content-section">
                    <div class="section-header">
                        <h2>12. Future Considerations</h2>
                    </div>
                    
                    <h3>12.1 Research Directions</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-flask"></i>
                            </div>
                            <div>
                                <div class="card-title">Active Research Areas</div>
                                <div class="card-subtitle">Technical Challenges Requiring Further Investigation</div>
                            </div>
                        </div>
                        
                        <div class="feature-grid">
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-atom"></i>
                                </div>
                                <h4 class="feature-title">Post-Quantum Cryptography</h4>
                                <p>Integration of NIST-selected PQC algorithms, hybrid cryptographic modes, quantum key distribution integration</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-user-secret"></i>
                                </div>
                                <h4 class="feature-title">Advanced Privacy</h4>
                                <p>Private information retrieval, fully homomorphic encryption, secure multi-party computation integration</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-expand-arrows-alt"></i>
                                </div>
                                <h4 class="feature-title">Scalability Solutions</h4>
                                <p>DHT sharding, hierarchical addressing schemes, content-addressable storage for large documents</p>
                            </div>
                            
                            <div class="feature-card">
                                <div class="feature-icon">
                                    <i class="fas fa-bolt"></i>
                                </div>
                                <h4 class="feature-title">Performance Optimization</h4>
                                <p>Hardware acceleration, protocol simplifications, reduced handshake overhead for low-power devices</p>
                            </div>
                        </div>
                    </div>

                    <h3>12.2 Standardization Roadmap</h3>
                    
                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>Phase</th>
                                    <th>Timeline</th>
                                    <th>Objectives</th>
                                    <th>Deliverables</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><strong>Phase 1: Core Protocol</strong></td>
                                    <td>Q4 2025</td>
                                    <td>Reference implementation, basic DID resolution and messaging</td>
                                    <td>Rust SDK, basic specs, test vectors</td>
                                </tr>
                                <tr>
                                    <td><strong>Phase 2: Network Infrastructure</strong></td>
                                    <td>Q2 2026</td>
                                    <td>DHT overlay deployment, relay system, gateway services</td>
                                    <td>Production DHT, NAT traversal, legacy bridges</td>
                                </tr>
                                <tr>
                                    <td><strong>Phase 3: Production Deployment</strong></td>
                                    <td>Q4 2026</td>
                                    <td>Mobile/desktop apps, enterprise tools, performance optimization</td>
                                    <td>Mobile SDKs, monitoring tools, enterprise integration</td>
                                </tr>
                                <tr>
                                    <td><strong>Phase 4: Standards Finalization</strong></td>
                                    <td>2027</td>
                                    <td>IETF/W3C standardization, formal verification, security audits</td>
                                    <td>RFCs, formal proofs, audit reports</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- 13. References -->
                <section id="references" class="content-section">
                    <div class="section-header">
                        <h2>13. References</h2>
                    </div>
                    
                    <div class="references">
                        <h3>13.1 Normative References</h3>
                        
                        <ul class="reference-list">
                            <li class="reference-item" data-number="1">
                                <strong>[RFC2119]</strong> Bradner, S., "Key words for use in RFCs to Indicate Requirement Levels", BCP 14, RFC 2119, March 1997.
                            </li>
                            <li class="reference-item" data-number="2">
                                <strong>[RFC3986]</strong> Berners-Lee, T., Fielding, R., and L. Masinter, "Uniform Resource Identifier (URI): Generic Syntax", STD 66, RFC 3986, January 2005.
                            </li>
                            <li class="reference-item" data-number="3">
                                <strong>[RFC7515]</strong> Jones, M., Bradley, J., and N. Sakimura, "JSON Web Signature (JWS)", RFC 7515, May 2015.
                            </li>
                            <li class="reference-item" data-number="4">
                                <strong>[RFC7748]</strong> Langley, A., Hamburg, M., and S. Turner, "Elliptic Curves for Security", RFC 7748, January 2016.
                            </li>
                            <li class="reference-item" data-number="5">
                                <strong>[RFC8032]</strong> Josefsson, S. and I. Liusvaara, "Edwards-Curve Digital Signature Algorithm (EdDSA)", RFC 8032, January 2017.
                            </li>
                            <li class="reference-item" data-number="6">
                                <strong>[RFC8439]</strong> Nir, Y. and A. Langley, "ChaCha20 and Poly1305 for IETF Protocols", RFC 8439, June 2018.
                            </li>
                        </ul>

                        <h3>13.2 Informative References</h3>
                        
                        <ul class="reference-list">
                            <li class="reference-item" data-number="7">
                                <strong>[DID-CORE]</strong> Reed, D., Sporny, M., Longley, D., Allen, C., Grant, R., Sabadello, M., "Decentralized Identifiers (DIDs) v1.0", W3C Recommendation, 19 July 2022.
                            </li>
                            <li class="reference-item" data-number="8">
                                <strong>[NOISE]</strong> Perrin, T., "The Noise Protocol Framework", 2018.
                            </li>
                            <li class="reference-item" data-number="9">
                                <strong>[KADEMLIA]</strong> Maymounkov, P. and D. Mazieres, "Kademlia: A Peer-to-peer Information System Based on the XOR Metric", IPTPS 2002.
                            </li>
                            <li class="reference-item" data-number="10">
                                <strong>[ZCAP-LD]</strong> Longley, D. and M. Sporny, "Authorization Capabilities for Linked Data v0.3", Digital Bazaar, 2021.
                            </li>
                        </ul>
                    </div>
                </section>

                <!-- 14. Appendices -->
                <section id="appendices" class="content-section">
                    <div class="section-header">
                        <h2>14. Appendices</h2>
                    </div>
                    
                    <h3>14.1 Appendix A: Protocol Grammar</h3>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-language"></i>
                                UDNA Address Grammar
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-plaintext">udna-address = "udna://" did-identifier ":" facet-id
did-identifier = "did:" method-name ":" method-specific-id
method-name = 1*method-char
method-char = %x61-7A / DIGIT  ; lowercase letters and digits
method-specific-id = *idchar
idchar = ALPHA / DIGIT / "." / "-" / "_"
facet-id = 1*3DIGIT  ; 0-255</code></pre>
                    </div>

                    <h3>14.2 Appendix B: Implementation Checklist</h3>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div>
                                <div class="card-title">Implementation Requirements Checklist</div>
                                <div class="card-subtitle">Minimum Requirements for UDNA Compliance</div>
                            </div>
                        </div>
                        
                        <div class="ascii-table">
                            <table>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>                Core Protocol Requirements                    </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                                <tr>
                                    <td>   UDNA header parsing and validation                       </td>
                                </tr>
                                <tr>
                                    <td>   Ed25519 signature creation and verification              </td>
                                </tr>
                                <tr>
                                    <td>   X25519 key agreement for session establishment          </td>
                                </tr>
                                <tr>
                                    <td>   ChaCha20-Poly1305 encryption and decryption             </td>
                                </tr>
                                <tr>
                                    <td>   BLAKE2b/BLAKE3 hash functions                           </td>
                                </tr>
                                <tr>
                                    <td>   DID resolution with three-tier caching                  </td>
                                </tr>
                                <tr>
                                    <td>   Key rotation protocol implementation                    </td>
                                </tr>
                                <tr>
                                    <td>   SCP DHT node operation and routing                      </td>
                                </tr>
                                <tr>
                                    <td>   NAT traversal mechanisms (STUN/ICE/relaying)            </td>
                                </tr>
                                <tr>
                                    <td>   Pairwise DID generation and management                  </td>
                                </tr>
                                <tr>
                                    <td></td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <h3>14.3 Appendix C: Test Vectors</h3>
                    
                    <div class="code-block">
                        <div class="code-header">
                            <div class="code-title">
                                <i class="fas fa-vial"></i>
                                Sample Test Case
                            </div>
                            <button class="code-copy" onclick="copyCode(this)">
                                <i class="far fa-copy"></i>
                                Copy
                            </button>
                        </div>
                        <pre><code class="language-json">{
  "test_name": "Basic DID Resolution and Validation",
  "input": {
    "did": "did:scp:z6MkhaXgBZDvotDkL5257faiztiGiC2QtKLGpbnnEGta2doK",
    "operation": "resolve_and_validate"
  },
  "expected_output": {
    "resolution_time": "&lt;100ms",
    "validation_result": "valid",
    "document_properties": {
      "has_verification_method": true,
      "has_service_endpoint": true,
      "signature_valid": true
    }
  },
  "notes": "Test should be run with warm cache and network connectivity"
}</code></pre>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="footer">
                    <div class="footer-content">
                        <div>
                            <strong>Universal DID-Native Addressing (UDNA)</strong><br>
                            <small>W3C Community Group  Document Version 2.0</small>
                        </div>
                        
                        <div class="footer-links">
                            <a href="https://www.w3.org/community/about/agreements/" class="footer-link" target="_blank">
                                <i class="fas fa-file-contract"></i>
                                Participant Agreement
                            </a>
                            <a href="https://www.w3.org/policies/#privacy" class="footer-link" target="_blank">
                                <i class="fas fa-user-shield"></i>
                                Privacy Policy
                            </a>
                            <a href="mailto:public-did-native-addr@w3.org" class="footer-link">
                                <i class="fas fa-envelope"></i>
                                Contact
                            </a>
                            <a href="https://github.com/w3c-cg/udna" class="footer-link" target="_blank">
                                <i class="fab fa-github"></i>
                                GitHub
                            </a>
                        </div>
                    </div>
                    
                    <div class="copyright">
                         2025 World Wide Web Consortium (W3C). Published by the UDNA Community Group.<br>
                        <small>W3C liability, trademark and permissive document license rules apply.</small>
                    </div>
                </footer>
            </main>
        </div>
    </div>

    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <script>
        // Theme Toggle
        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('udna-theme', newTheme);
            
            // Update button icon
            const themeIcon = document.querySelector('.header-actions .btn i');
            if (themeIcon) {
                themeIcon.className = newTheme === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
            }
        }
        
        // Load saved theme
        const savedTheme = localStorage.getItem('udna-theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);
        
        // Mobile Menu Toggle
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const sidebar = document.getElementById('sidebar');
        
        mobileMenuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('active');
            mobileMenuToggle.innerHTML = sidebar.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', (event) => {
            if (window.innerWidth <= 1024 && 
                !sidebar.contains(event.target) && 
                !mobileMenuToggle.contains(event.target) && 
                sidebar.classList.contains('active')) {
                sidebar.classList.remove('active');
                mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
            }
        });
        
        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    // Close mobile menu if open
                    if (window.innerWidth <= 1024 && sidebar.classList.contains('active')) {
                        sidebar.classList.remove('active');
                        mobileMenuToggle.innerHTML = '<i class="fas fa-bars"></i>';
                    }
                    
                    window.scrollTo({
                        top: targetElement.offsetTop - 100,
                        behavior: 'smooth'
                    });
                    
                    // Update URL without page reload
                    history.pushState(null, null, targetId);
                }
            });
        });
        
        // Active navigation highlighting
        function updateActiveNav() {
            const sections = document.querySelectorAll('.content-section');
            const navLinks = document.querySelectorAll('.nav-link');
            
            let currentSection = '';
            const scrollPosition = window.scrollY + 150;
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                const sectionId = section.getAttribute('id');
                
                if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                    currentSection = sectionId;
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSection}`) {
                    link.classList.add('active');
                }
            });
        }
        
        window.addEventListener('scroll', updateActiveNav);
        updateActiveNav();
        
        // Copy code functionality
        function copyCode(button) {
            const codeBlock = button.closest('.code-block').querySelector('code');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Copied!';
                button.style.background = 'var(--accent-green)';
                button.style.borderColor = 'var(--accent-green)';
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.style.background = '';
                    button.style.borderColor = '';
                }, 2000);
            });
        }
        
        // Initialize code copy buttons
        document.querySelectorAll('.code-copy').forEach(button => {
            button.addEventListener('click', () => copyCode(button));
        });
        
        // Animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };
        
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, observerOptions);
        
        // Observe all content sections
        document.querySelectorAll('.content-section').forEach(section => {
            observer.observe(section);
        });
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            // Add animation to document header
            document.querySelector('.doc-header').classList.add('animate-in');
            
            // Update current year in footer
            const yearElement = document.querySelector('.copyright');
            if (yearElement) {
                const currentYear = new Date().getFullYear();
                yearElement.innerHTML = yearElement.innerHTML.replace('2025', currentYear);
            }
        });
    </script>
</body>
</html>